{"version":3,"sources":["app/admin/manageserviceprovider/manageserviceprovider.controller.js"],"names":[],"mappings":"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","file":"app/admin/manageserviceprovider/manageserviceprovider.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass ManageserviceproviderComponent {\n    \n    constructor($http, Auth, $scope, $state, socket) {\n      this.$http = $http;\n      this.Auth = Auth;\n      this.socket = socket;\n      this.$state = $state;\n      \n      this.serviceProviderLists = [];\n      this.listView = 1;\n      \n      $scope.$on('$destroy', function() {\n        socket.unsyncUpdates('vehicles');\n      });\n    }\n      \n    $onInit() {\n        this.$http.get('/api/serviceproviders')\n        .then(response => {\n          this.serviceProviderLists = response.data;\n          this.socket.syncUpdates('serviceprovider', this.serviceProviderLists);\n        });\n    }\n      \n  registerServiceProvider(form) {\n    this.submitted = true;\n\n    if (form.$valid) {\n        \n//      this.Auth.createServiceProvider({\n//          provider: 'local',\n//          role: 'guest',\n//          name: this.user.name,\n//          email: this.user.email,\n//          password: this.user.password\n//        })\n        \n        this.$http.post('/api/users', {\n            provider: 'local',\n            role: 'serviceProvider',\n            name: this.user.name,\n            email: this.user.email,\n            password: this.user.password\n        })\n        .then(() => {\n            this.$http.post('/api/serviceproviders', {\n                companyName: this.user.companyName,\n                firstName: this.user.name,\n                lastName: this.user.lastName,\n                email: this.user.email,\n                registrationDate: this.user.registrationDate,\n                freeTrial: this.user.freeTrial,\n                noOfFreeTrail: this.user.noOfFreeTrail,\n                annualAppRenewalFee: this.user.annualAppRenewalFee,\n                maximumAllowedVehicle: this.user.maximumAllowedVehicle,\n                status: this.user.status\n            });\n        })\n        .then(() => {\n            this.$http.put('/api/users/57ac81fc14f27b6007aecf06', {\n               \n                name: \"Devashish\"\n            });\n        })\n        .catch(err => {\n          err = err.data;\n          this.errors = {};\n\n          // Update validity of form fields that match the mongoose errors\n          angular.forEach(err.errors, (error, field) => {\n            form[field].$setValidity('mongoose', false);\n            this.errors[field] = error.message;\n          });\n        });\n        this.listView = 1;\n    }\n  }\n    addNewItem() {\n        this.listView = 0;\n    }\n      \n    manageListView() {\n        this.listView = 1;\n    }\n    \n    deleteThing(thing) {\n      this.$http.delete('/api/serviceproviders/' + thing._id);\n    }\n  \n  \n}\n\nangular.module('aacrudApp')\n  .component('manageserviceprovider', {\n    templateUrl: 'app/admin/manageserviceprovider/manageserviceprovider.html',\n    controller: ManageserviceproviderComponent,\n    controllerAs: 'manageserviceproviderCtrl'\n  });\n\n})();\n"],"sourceRoot":"/source/"}